// Copyright (c) Huawei Technologies Co., Ltd. 2025. All rights reserved.
// This source file is part of the Cangjie project, licensed under Apache-2.0
// with Runtime Library Exception.
//
// See https://cangjie-lang.cn/pages/LICENSE for license information.

// Tips:
// 1. EXPRKIND(expression kind, exression name for human reading, Expression class)
// 2. Remember to modify CHIRCasting.h and PackageFormat.fbs after adding a new expression


#if defined(MAJORKIND) && defined(EXPRKIND)

// Helper macro that stringifies the kind as the name
// define it only when undefined, so it can be overriden in the file that includes it.
#ifndef EXPRKIND_NAME
#define EXPRKIND_NAME(kind, class) EXPRKIND(kind, #class, class)
#define AUTO_EXPRKIND_NAME
#endif

MAJORKIND(TERMINATOR,
EXPRKIND_NAME(GOTO, GoTo)
EXPRKIND_NAME(BRANCH, Branch)
EXPRKIND_NAME(MULTIBRANCH, MultiBranch)
EXPRKIND_NAME(EXIT, Exit)
EXPRKIND_NAME(APPLY_WITH_EXCEPTION, ApplyWithException)
EXPRKIND_NAME(INVOKE_WITH_EXCEPTION, InvokeWithException)
EXPRKIND_NAME(INVOKESTATIC_WITH_EXCEPTION, InvokeStaticWithException)
EXPRKIND_NAME(RAISE_EXCEPTION, RaiseException)
EXPRKIND_NAME(INT_OP_WITH_EXCEPTION, IntOpWithException)
EXPRKIND_NAME(SPAWN_WITH_EXCEPTION, SpawnWithException)
EXPRKIND_NAME(TYPECAST_WITH_EXCEPTION, TypeCastWithException)
EXPRKIND_NAME(INTRINSIC_WITH_EXCEPTION, IntrinsicWithException)
EXPRKIND_NAME(ALLOCATE_WITH_EXCEPTION, AllocateWithException)
EXPRKIND_NAME(RAW_ARRAY_ALLOCATE_WITH_EXCEPTION, RawArrayAllocateWithException)
)

MAJORKIND(UNARY_EXPR,
EXPRKIND_NAME(NEG, UnaryExpression)
EXPRKIND_NAME(NOT, UnaryExpression)
EXPRKIND_NAME(BITNOT, UnaryExpression)
)

MAJORKIND(BINARY_EXPR,
EXPRKIND_NAME(ADD, BinaryExpression)
EXPRKIND_NAME(SUB, BinaryExpression)
EXPRKIND_NAME(MUL, BinaryExpression)
EXPRKIND_NAME(DIV, BinaryExpression)
EXPRKIND_NAME(MOD, BinaryExpression)
EXPRKIND_NAME(EXP, BinaryExpression)
EXPRKIND_NAME(LSHIFT, BinaryExpression)
EXPRKIND_NAME(RSHIFT, BinaryExpression)
EXPRKIND_NAME(BITAND, BinaryExpression)
EXPRKIND_NAME(BITOR, BinaryExpression)
EXPRKIND_NAME(BITXOR, BinaryExpression)
EXPRKIND_NAME(LT, BinaryExpression)
EXPRKIND_NAME(GT, BinaryExpression)
EXPRKIND_NAME(LE, BinaryExpression)
EXPRKIND_NAME(GE, BinaryExpression)
EXPRKIND_NAME(EQUAL, BinaryExpression)
EXPRKIND_NAME(NOTEQUAL, BinaryExpression)
EXPRKIND_NAME(AND, BinaryExpression)
EXPRKIND_NAME(OR, BinaryExpression)
)

MAJORKIND(MEMORY_EXPR,
EXPRKIND_NAME(ALLOCATE, Allocate)
EXPRKIND_NAME(LOAD, Load)
EXPRKIND_NAME(STORE, Store)
EXPRKIND_NAME(GET_ELEMENT_REF, GetElementRef)
EXPRKIND_NAME(GET_ELEMENT_BY_NAME, GetElementByName)
EXPRKIND_NAME(STORE_ELEMENT_REF, StoreElementRef)
EXPRKIND_NAME(STORE_ELEMENT_BY_NAME, StoreElementByName)
)

MAJORKIND(STRUCTURED_CTRL_FLOW_EXPR,
EXPRKIND_NAME(IF, If)
EXPRKIND_NAME(LOOP, Loop)
EXPRKIND_NAME(FORIN_RANGE, ForInRange)
EXPRKIND_NAME(FORIN_ITER, ForInIter)
EXPRKIND_NAME(FORIN_CLOSED_RANGE, ForInClosedRange)
EXPRKIND_NAME(LAMBDA, Lambda)
)

MAJORKIND(OTHERS,
EXPRKIND_NAME(CONSTANT, Constant)
EXPRKIND(DEBUGEXPR, "Debug", Debug)
EXPRKIND_NAME(TUPLE, Tuple)
EXPRKIND_NAME(FIELD, Field)
EXPRKIND_NAME(FIELD_BY_NAME, FieldByName)
EXPRKIND_NAME(APPLY, Apply)
EXPRKIND_NAME(INVOKE, Invoke)
EXPRKIND_NAME(INVOKESTATIC, InvokeStatic)
EXPRKIND_NAME(INSTANCEOF, InstanceOf)
EXPRKIND_NAME(TYPECAST, TypeCast)
EXPRKIND_NAME(GET_EXCEPTION, GetException)

EXPRKIND_NAME(RAW_ARRAY_ALLOCATE, RawArrayAllocate)
EXPRKIND_NAME(RAW_ARRAY_LITERAL_INIT, RawArrayLiteralInit)
EXPRKIND_NAME(RAW_ARRAY_INIT_BY_VALUE, RawArrayInitByValue)
EXPRKIND_NAME(VARRAY, VArray)
EXPRKIND_NAME(VARRAY_BUILDER, VArrayBuilder)
EXPRKIND_NAME(INTRINSIC, Intrinsic)
EXPRKIND_NAME(SPAWN, Spawn)
EXPRKIND_NAME(GET_INSTANTIATE_VALUE, GetInstantiateValue)
EXPRKIND_NAME(START_REGION, StartRegion)
EXPRKIND_NAME(END_REGION, EndRegion)

EXPRKIND_NAME(BOX, Box)
EXPRKIND_NAME(UNBOX, Unbox)
EXPRKIND_NAME(TRANSFORM_TO_GENERIC, TransformToGeneric)
EXPRKIND_NAME(TRANSFORM_TO_CONCRETE, TransformToConcrete)
EXPRKIND_NAME(UNBOX_TO_REF, UnBoxToRef)

EXPRKIND_NAME(GET_RTTI, GetRTTI)
EXPRKIND_NAME(GET_RTTI_STATIC, GetRTTIStatic)
)

#ifdef AUTO_EXPRKIND_NAME
#undef EXPRKIND_NAME
#endif

#endif
